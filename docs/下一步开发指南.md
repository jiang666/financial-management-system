# è´¢åŠ¡ç³»ç»Ÿåç«¯ä¸‹ä¸€æ­¥å¼€å‘æŒ‡å—

## ğŸ“Š å½“å‰é¡¹ç›®çŠ¶æ€æ€»ç»“

### âœ… å·²å®ŒæˆåŸºç¡€æ¶æ„ï¼ˆWeek 1-2ï¼‰
- âœ… Spring Booté¡¹ç›®æ­å»ºå’Œé…ç½®
- âœ… MySQLæ•°æ®åº“è¿æ¥é…ç½®  
- âœ… ç»Ÿä¸€å¼‚å¸¸å¤„ç†æœºåˆ¶
- âœ… å‚æ•°æ ¡éªŒæ¡†æ¶é…ç½®
- âœ… CORSè·¨åŸŸæ”¯æŒ
- âœ… åŸºç¡€å·¥å…·ç±»ï¼ˆUUIDã€Validationï¼‰
- âœ… ç»Ÿä¸€å“åº”æ ¼å¼ï¼ˆResponseEntityï¼‰
- âœ… Spring SecurityåŸºç¡€é…ç½®
- âœ… BCryptå¯†ç åŠ å¯†å™¨

### ğŸ” å½“å‰é¡¹ç›®ç»“æ„
```
backend/
â”œâ”€â”€ src/main/java/com/company/financial/
â”‚   â”œâ”€â”€ common/          # âœ… é€šç”¨å“åº”ç±»
â”‚   â”œâ”€â”€ config/          # âœ… é…ç½®ç±»ï¼ˆSecurityã€Validationï¼‰
â”‚   â”œâ”€â”€ controller/      # âœ… å¥åº·æ£€æŸ¥æ¥å£
â”‚   â”œâ”€â”€ exception/       # âœ… å¼‚å¸¸å¤„ç†
â”‚   â”œâ”€â”€ util/            # âœ… å·¥å…·ç±»
â”‚   â”‚   â””â”€â”€ validation/  # âœ… è‡ªå®šä¹‰æ ¡éªŒ
â”‚   â”œâ”€â”€ entity/          # âŒ å¾…å¼€å‘
â”‚   â”œâ”€â”€ dto/             # âŒ å¾…å¼€å‘
â”‚   â”œâ”€â”€ repository/      # âŒ å¾…å¼€å‘
â”‚   â”œâ”€â”€ service/         # âŒ å¾…å¼€å‘
â”‚   â””â”€â”€ security/        # âŒ å¾…å¼€å‘
```

---

## ğŸ¯ ä¸‹ä¸€æ­¥å¼€å‘è®¡åˆ’ï¼šç”¨æˆ·æƒé™æ¨¡å—ï¼ˆWeek 3ï¼‰

### ğŸ“‹ å¼€å‘ä»»åŠ¡åˆ—è¡¨

#### 1. **åˆ›å»ºåŸºç¡€å®ä½“ç±»** (4å°æ—¶)
```java
// éœ€è¦åˆ›å»ºçš„å®ä½“
- User.java          // ç”¨æˆ·å®ä½“
- Role.java          // è§’è‰²å®ä½“  
- Permission.java    // æƒé™å®ä½“
- UserRole.java      // ç”¨æˆ·è§’è‰²å…³è”
- RolePermission.java // è§’è‰²æƒé™å…³è”
```

#### 2. **åˆ›å»ºæ•°æ®åº“è¡¨ç»“æ„** (2å°æ—¶)
```sql
-- æ‰§è¡ŒMySQLæ•°æ®åº“è®¾è®¡æ–¹æ¡ˆä¸­çš„ç”¨æˆ·æƒé™æ¨¡å—è¡¨
-- æ–‡ä»¶ä½ç½®ï¼šdocs/MySQLæ•°æ®åº“è®¾è®¡æ–¹æ¡ˆ.md
```

#### 3. **åˆ›å»ºRepositoryå±‚** (2å°æ—¶)
```java
- UserRepository
- RoleRepository
- PermissionRepository
- UserRoleRepository
- RolePermissionRepository
```

#### 4. **åˆ›å»ºDTOå¯¹è±¡** (3å°æ—¶)
```java
// è¯·æ±‚DTO
- LoginRequestDTO      // ç™»å½•è¯·æ±‚
- RegisterRequestDTO   // æ³¨å†Œè¯·æ±‚
- ChangePasswordDTO    // ä¿®æ”¹å¯†ç 

// å“åº”DTO
- UserInfoDTO         // ç”¨æˆ·ä¿¡æ¯
- LoginResponseDTO    // ç™»å½•å“åº”ï¼ˆå«tokenï¼‰
```

#### 5. **å®ç°JWTè®¤è¯æœåŠ¡** (6å°æ—¶)
```java
- JwtTokenProvider     // JWTå·¥å…·ç±»
- JwtAuthenticationFilter // JWTè®¤è¯è¿‡æ»¤å™¨
- CustomUserDetails    // è‡ªå®šä¹‰ç”¨æˆ·è¯¦æƒ…
- CustomUserDetailsService // ç”¨æˆ·è¯¦æƒ…æœåŠ¡
```

#### 6. **å®ç°ç”¨æˆ·æœåŠ¡** (4å°æ—¶)
```java
- UserService         // ç”¨æˆ·ä¸šåŠ¡é€»è¾‘
- AuthService         // è®¤è¯ä¸šåŠ¡é€»è¾‘
- PermissionService   // æƒé™ä¸šåŠ¡é€»è¾‘
```

#### 7. **åˆ›å»ºè®¤è¯æ§åˆ¶å™¨** (3å°æ—¶)
```java
- AuthController      // è®¤è¯ç›¸å…³æ¥å£
  - POST /api/auth/login    // ç™»å½•
  - POST /api/auth/register // æ³¨å†Œ
  - POST /api/auth/logout   // ç™»å‡º
  - GET  /api/auth/me       // å½“å‰ç”¨æˆ·ä¿¡æ¯
```

#### 8. **æ›´æ–°Securityé…ç½®** (2å°æ—¶)
- é…ç½®JWTè®¤è¯è¿‡æ»¤å™¨
- é…ç½®è®¤è¯å¼‚å¸¸å¤„ç†
- é…ç½®æƒé™æ§åˆ¶è§„åˆ™

---

## ğŸ“ å¼€å‘æ­¥éª¤æŒ‡å¯¼

### Step 1: åˆ›å»ºå®ä½“ç±»
å…ˆä» `docs/MySQLæ•°æ®åº“è®¾è®¡æ–¹æ¡ˆ.md` ä¸­å¤åˆ¶ç”¨æˆ·æƒé™æ¨¡å—çš„è¡¨ç»“æ„ï¼Œåˆ›å»ºå¯¹åº”çš„JPAå®ä½“ç±»ã€‚

### Step 2: åˆå§‹åŒ–æ•°æ®åº“
```sql
-- åˆ›å»ºæ•°æ®åº“ï¼ˆå¦‚æœè¿˜æ²¡æœ‰ï¼‰
CREATE DATABASE IF NOT EXISTS financial_db CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;

-- ä½¿ç”¨æ•°æ®åº“
USE financial_db;

-- æ‰§è¡Œç”¨æˆ·æƒé™æ¨¡å—çš„å»ºè¡¨SQL
```

### Step 3: å®ç°åŸºç¡€CRUD
1. åˆ›å»ºRepositoryæ¥å£
2. åˆ›å»ºServiceå±‚åŸºç¡€CRUDæ–¹æ³•
3. ç¼–å†™å•å…ƒæµ‹è¯•éªŒè¯

### Step 4: å®ç°JWTè®¤è¯
1. æ·»åŠ JWTä¾èµ–ï¼ˆå·²åœ¨pom.xmlä¸­ï¼‰
2. åˆ›å»ºJWTå·¥å…·ç±»
3. å®ç°è®¤è¯è¿‡æ»¤å™¨
4. é›†æˆåˆ°Spring Security

### Step 5: å®ç°ä¸šåŠ¡æ¥å£
1. ç”¨æˆ·æ³¨å†Œé€»è¾‘
2. ç”¨æˆ·ç™»å½•é€»è¾‘
3. Tokenåˆ·æ–°é€»è¾‘
4. æƒé™éªŒè¯é€»è¾‘

---

## ğŸ”§ å¼€å‘è§„èŒƒæé†’

### 1. **å®ä½“ç±»è§„èŒƒ**
```java
@Entity
@Table(name = "users")
@Data
@Slf4j
public class User {
    @Id
    @GeneratedValue(generator = "uuid")
    @GenericGenerator(name = "uuid", strategy = "uuid2")
    private String id;
    
    // å®¡è®¡å­—æ®µ
    @CreationTimestamp
    private LocalDateTime createdAt;
    
    @UpdateTimestamp
    private LocalDateTime updatedAt;
    
    // ... å…¶ä»–å­—æ®µ
}
```

### 2. **Serviceå±‚è§„èŒƒ**
```java
@Service
@Slf4j
@Transactional
public class UserService {
    // ä½¿ç”¨æ„é€ å™¨æ³¨å…¥
    private final UserRepository userRepository;
    
    public UserService(UserRepository userRepository) {
        this.userRepository = userRepository;
    }
    
    // ä¸šåŠ¡æ–¹æ³•
}
```

### 3. **Controllerå±‚è§„èŒƒ**
```java
@RestController
@RequestMapping("/api/users")
@Slf4j
@Validated
public class UserController {
    
    @GetMapping
    @PreAuthorize("hasAuthority('USER_READ')")
    public ResponseEntity<List<UserInfoDTO>> list() {
        // å®ç°é€»è¾‘
    }
}
```

### 4. **å¼‚å¸¸å¤„ç†è§„èŒƒ**
- ä½¿ç”¨å·²å®šä¹‰çš„å¼‚å¸¸ç±»
- ä¸è¦æ•è·å¼‚å¸¸åä¸å¤„ç†
- è®°å½•å¿…è¦çš„æ—¥å¿—

---

## ğŸ“… æ—¶é—´å®‰æ’å»ºè®®

### Day 1ï¼ˆç¬¬ä¸€å¤©ï¼‰
- ä¸Šåˆï¼šåˆ›å»ºå®ä½“ç±»å’Œæ•°æ®åº“è¡¨
- ä¸‹åˆï¼šå®ç°Repositoryå±‚å’ŒåŸºç¡€Service

### Day 2ï¼ˆç¬¬äºŒå¤©ï¼‰
- ä¸Šåˆï¼šå®ç°JWTè®¤è¯ç»„ä»¶
- ä¸‹åˆï¼šé›†æˆSpring Security

### Day 3ï¼ˆç¬¬ä¸‰å¤©ï¼‰
- ä¸Šåˆï¼šå®ç°ç”¨æˆ·æ³¨å†Œ/ç™»å½•é€»è¾‘
- ä¸‹åˆï¼šå®ç°æƒé™æ§åˆ¶å’Œæµ‹è¯•

### Day 4ï¼ˆç¬¬å››å¤©ï¼‰
- ä¸Šåˆï¼šå®Œå–„ç»†èŠ‚å’Œè¾¹ç•Œæƒ…å†µ
- ä¸‹åˆï¼šç¼–å†™å•å…ƒæµ‹è¯•

### Day 5ï¼ˆç¬¬äº”å¤©ï¼‰
- æ•´ä½“æµ‹è¯•å’Œä¼˜åŒ–
- å‡†å¤‡è¿›å…¥ä¸‹ä¸€ä¸ªæ¨¡å—

---

## âœ… å®Œæˆæ ‡å‡†

1. **åŠŸèƒ½å®Œæ•´æ€§**
   - ç”¨æˆ·å¯ä»¥æ³¨å†Œæ–°è´¦å·
   - ç”¨æˆ·å¯ä»¥ç™»å½•è·å–Token
   - Tokenå¯ä»¥æ­£ç¡®éªŒè¯
   - æƒé™æ§åˆ¶æ­£å¸¸å·¥ä½œ

2. **ä»£ç è´¨é‡**
   - éµå¾ªé¡¹ç›®ç¼–ç è§„èŒƒ
   - é€‚å½“çš„å¼‚å¸¸å¤„ç†
   - å¿…è¦çš„å‚æ•°æ ¡éªŒ
   - æ—¥å¿—è®°å½•å®Œæ•´

3. **æµ‹è¯•è¦†ç›–**
   - æ ¸å¿ƒä¸šåŠ¡é€»è¾‘æœ‰å•å…ƒæµ‹è¯•
   - APIæ¥å£ç»è¿‡æµ‹è¯•éªŒè¯
   - å¼‚å¸¸æƒ…å†µå¾—åˆ°å¤„ç†

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

1. **å…ˆåˆ›å»ºç¬¬ä¸€ä¸ªå®ä½“ç±»**
   ```bash
   # åˆ›å»ºUserå®ä½“
   backend/src/main/java/com/company/financial/entity/User.java
   ```

2. **åˆ›å»ºå¯¹åº”çš„Repository**
   ```bash
   # åˆ›å»ºUserRepository
   backend/src/main/java/com/company/financial/repository/UserRepository.java
   ```

3. **è¿è¡Œé¡¹ç›®éªŒè¯**
   ```bash
   cd backend
   mvn spring-boot:run
   ```

---

**å‡†å¤‡å¥½äº†å—ï¼Ÿ** è®©æˆ‘ä»¬å¼€å§‹Week 3çš„ç”¨æˆ·æƒé™æ¨¡å—å¼€å‘ï¼

å¦‚æœéœ€è¦ä»»ä½•å¸®åŠ©ï¼Œè¯·éšæ—¶å‘Šè¯‰æˆ‘ï¼š
- éœ€è¦å…·ä½“çš„ä»£ç å®ç°ç¤ºä¾‹
- é‡åˆ°æŠ€æœ¯é—®é¢˜éœ€è¦è§£å†³
- éœ€è¦è°ƒæ•´å¼€å‘è®¡åˆ’

ç¥å¼€å‘é¡ºåˆ©ï¼ğŸ‰